<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>لوحة تحكم Ms. Mona</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Cairo', sans-serif; background: #f4f4f9; padding: 20px; text-align: center; }
        .card { background: white; padding: 30px; border-radius: 15px; max-width: 500px; margin: 20px auto; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        input, textarea { width: 100%; padding: 12px; margin: 10px 0; border: 1px solid #ddd; border-radius: 8px; }
        button { background: #6c5ce7; color: white; border: none; padding: 15px 30px; border-radius: 10px; cursor: pointer; font-weight: bold; width: 100%; }
        button:hover { background: #4834d4; }
        .back-link { display: block; margin-bottom: 20px; color: #6c5ce7; text-decoration: none; }
    </style>
</head>
<body>

    <a href="index.html" class="back-link">← العودة للموقع الأساسي</a>

    <div class="card">
        <h2>إضافة كورس جديد</h2>
        <input type="text" id="title" placeholder="اسم الكورس">
        <textarea id="desc" rows="3" placeholder="وصف قصير"></textarea>
        <input type="text" id="link" placeholder="رابط الكورس">
        <button onclick="addCourse()">إضافة الكورس للموقع</button>
    </div>

    <div class="card">
        <h2>إضافة رأي طالب (يدوياً)</h2>
        <input type="text" id="studentName" placeholder="اسم الطالب/الطالبة">
        <textarea id="studentText" rows="3" placeholder="رأي الطالب"></textarea>
        <button onclick="addReview()">حفظ الرأي</button>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getDatabase, ref, push, set } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyA8KQAQgu4nIiomoDpoTLnBz_uAtab63sY",
            authDomain: "monaacademy-cd983.firebaseapp.com",
            databaseURL: "https://monaacademy-cd983-default-rtdb.firebaseio.com",
            projectId: "monaacademy-cd983",
            storageBucket: "monaacademy-cd983.firebasestorage.app",
            messagingSenderId: "410646694761",
            appId: "1:410646694761:web:bea49c51d3b0ff5eb9cbf8"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        window.addCourse = function() {
            const title = document.getElementById('title').value;
            const desc = document.getElementById('desc').value;
            const link = document.getElementById('link').value;

            if(title && desc && link) {
                const newRef = push(ref(db, 'courses'));
                set(newRef, { title, desc, link })
                .then(() => { alert("✅ تم إضافة الكورس بنجاح!"); location.reload(); })
                .catch(() => { alert("❌ فشل الحفظ: تأكدي من الإنترنت"); });
            } else { alert("يرجى ملء جميع الخانات"); }
        };

        window.addReview = function() {
            const student = document.getElementById('studentName').value;
            const text = document.getElementById('studentText').value;

            if(student && text) {
                const newRef = push(ref(db, 'reviews'));
                set(newRef, { student, text })
                .then(() => { alert("✅ تم حفظ الرأي بنجاح!"); location.reload(); })
                .catch(() => { alert("❌ فشل الحفظ"); });
            } else { alert("يرجى ملء الخانات"); }
        };
    </script>
</body>
</html>
